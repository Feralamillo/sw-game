(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(51)},29:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),s=a.n(c),i=(a(29),a(19)),o=a(21),l=a(7),u=a.n(l),m=a(8),p=a(2),d=a(3),h=a(5),v=a(4),f=a(6),b=a(11),g=a.n(b),E=a(22),w="people",N="planets",j="species",y="starships",O="vehicles",x="https://hips.hearstapps.com/digitalspyuk.cdnds.net/18/31/1533225054-mark-hamill-and-carrie-fisher-star-wars.jpg?crop=0.848xw:0.896xh;0.128xw,0&resize=480:*",k="https://hips.hearstapps.com/digitalspyuk.cdnds.net/18/31/1533225054-mark-hamill-and-carrie-fisher-star-wars.jpg?crop=0.848xw:0.896xh;0.128xw,0&resize=480:*",C="https://cdn.images.express.co.uk/img/dynamic/36/590x/Star-wars-9-Anakin-and-Darth-Vader-force-ghost-leak-985172.jpg?r=1533001198664",P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).handleSelectChange=function(e){var t=e.target.value;a.setState({resource:t})},a.handleInputChange=function(e){var t=e.target.value;a.setState({points:Number(t)})},a.handleSubmit=function(e){var t=a.state,r=t.resource,n=t.points,c=a.props.selectGame;e.preventDefault(),c(r,n)},a.state={resource:"people",points:3},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.resource,a=e.points;return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("div",null,"Pick the resource you want to play:"),n.a.createElement("select",{className:"form-control form-control-lg",name:"resource",value:t,onChange:this.handleSelectChange},n.a.createElement("option",{value:w},"People"),n.a.createElement("option",{value:N},"Planets"),n.a.createElement("option",{value:j},"Species"),n.a.createElement("option",{value:y},"Starships"),n.a.createElement("option",{value:O},"Vehicles")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("div",null,"Number of games to play:"),n.a.createElement("input",{name:"points",type:"number",value:a,onChange:this.handleInputChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.a.Component),S=a(9),D=a(20),I=a.n(D),A=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cardData,a=e.winner,r=e.index,c=e.score,s=e.points;return t?n.a.createElement("div",{className:I()("col-sm card text-white text-center sw-card",Object(S.a)({},"bg-success",c===s))},n.a.createElement("img",{src:x,className:"card-img card-img-opacity",alt:"star wars"}),n.a.createElement("div",{className:"card-img-overlay"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h1",{className:"card-title"},"Player ",r+1,a===t.name&&n.a.createElement("span",{className:"badge badge-success ml-2"},"Winner")),n.a.createElement("h3",{className:"card-title"},c,"/",s),n.a.createElement("h5",{className:"card-title"},t.name),n.a.createElement("p",{className:"card-text"},"METRIC: ",t.metric)))):n.a.createElement("div",{className:"col-sm card text-center loading-card sw-card"},n.a.createElement("div",{className:"flip"},n.a.createElement("img",{src:k,className:"card-img card-front",alt:"star wars"}),n.a.createElement("img",{src:C,className:"card-img card-back",alt:"star wars"})))}}]),t}(n.a.Component),G=(a(50),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cardData,a=e.resource,r=e.winner,c=e.score,s=e.points;return t?n.a.createElement("div",{className:"container p-2"},n.a.createElement("div",{className:"row justify-content-md-center p-2"},n.a.createElement("h2",null,"Playing ",a)),n.a.createElement("div",{className:"row justify-content-md-center p-2"},t.map(function(e,t){return n.a.createElement(A,{key:t,cardData:e,winner:r,index:t,score:c[t],points:s})}))):n.a.createElement("div",{className:"container h-100 p-2"},n.a.createElement("div",{className:"row justify-content-md-center"},n.a.createElement("h2",null,"Playing ",a)),n.a.createElement("div",{className:"row justify-content-md-center"},"Press play to start the game"))}}]),t}(n.a.Component)),M=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.triggerButton;return n.a.createElement("div",{className:"container p-5"},n.a.createElement("div",{className:"row justify-content-md-center"},n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:e},"Play")))}}]),t}(n.a.Component),B=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cardData,a=e.triggerButton,r=e.selectGame,c=e.resource,s=e.winner,i=e.score,o=e.points;return n.a.createElement("div",{className:"container m-4"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-md-center"},c?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,n.a.createElement("a",{className:"btn btn-primary","data-toggle":"collapse",href:"#collapseFilters",role:"button","aria-expanded":"false","aria-controls":"collapseFilters"},"Filters")),n.a.createElement("div",{className:"collapse",id:"collapseFilters"},n.a.createElement("div",{className:"card card-body"},n.a.createElement(P,{selectGame:r})))):n.a.createElement("div",{className:"card card-body text-center"},n.a.createElement(P,{selectGame:r})))),c&&n.a.createElement(n.a.Fragment,null,n.a.createElement(G,{cardData:t,resource:c,winner:s,score:i,points:o}),Math.max.apply(Math,Object(E.a)(i))<o&&n.a.createElement(M,{triggerButton:a})))}}]),t}(n.a.Component),F=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},W=function(e,t){switch(e){case w:return z(t);case y:return J(t);case O:return T(t);case j:return V(t);default:return R(t)}},z=function(e){var t=e.name,a=e.height;return{name:t,metric:Number(a)?Number(a):0}},J=function(e){var t=e.name,a=e.passengers;return{name:t,metric:Number(a)?Number(a):0}},T=function(e){var t=e.name,a=e.passengers;return{name:t,metric:Number(a)?Number(a):0}},V=function(e){var t=e.name,a=e.average_height;return{name:t,metric:Number(a)?Number(a):0}},R=function(e){var t=e.name,a=e.population;return{name:t,metric:Number(a)?Number(a):0}},$=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).triggerButton=function(){a.setState({cardData:[null,null]}),a.handleGame()},a.selectGame=function(){var e=Object(m.a)(u.a.mark(function e(t,r){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handleAPICallMaxNumber(t);case 2:n=e.sent,a.setState({resource:t,points:r,maxNumAPI:n,cardData:void 0,score:[0,0],winner:void 0});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleGame=Object(m.a)(u.a.mark(function e(){var t,r,n,c,s,i,l,m,p,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,r=t.resource,n=t.maxNumAPI,r){e.next=3;break}return e.abrupt("return");case 3:for(c=F(1,n),s=F(1,n);c===s;)s=F(1,n);return e.next=9,Promise.all([a.handleAPICall(r,c),a.handleAPICall(r,s)]);case 9:i=e.sent,l=Object(o.a)(i,2),m=l[0],p=l[1],m&&p&&(d=a.handleWinner(m,p),setTimeout(function(){a.setState({cardData:[m,p],winner:d})},2e3));case 15:case"end":return e.stop()}},e)})),a.handleAPICall=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://swapi.co/api/".concat(t,"/").concat(a,"/"));case 3:return r=e.sent,e.abrupt("return",W(t,r.data));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error while fetching: ".concat(e.t0)),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleAPICallMaxNumber=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://swapi.co/api/".concat(t,"/"));case 3:return a=e.sent,e.abrupt("return",a.data.count);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error while fetching the maximum number: ".concat(e.t0)),e.abrupt("return",5);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.handleWinner=function(e,t){return e.metric>t.metric?(a.setState(function(e){return{score:[e.score[0]+1,e.score[1]]}}),e.name):(a.setState(function(e){return Object(i.a)({},e,{score:[e.score[0],e.score[1]+1]})}),t.name)},a.state={cardData:void 0,resource:void 0,points:0,winner:void 0,score:[0,0],maxNumAPI:2},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cardData,a=e.resource,r=e.winner,c=e.score,s=e.points;return n.a.createElement("div",{className:"container h-100 sw-background"},n.a.createElement(B,{selectGame:this.selectGame,resource:a,cardData:t,triggerButton:this.triggerButton,winner:r,score:c,points:s}))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.4f2da570.chunk.js.map